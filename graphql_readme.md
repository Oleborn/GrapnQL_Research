# GraphQL Research Project

–≠—Ç–æ –∏—Å—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –ø—Ä–æ–µ–∫—Ç –ø–æ –∏–∑—É—á–µ–Ω–∏—é –∏ –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–º—É –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—é **GraphQL** –Ω–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º–µ **Spring Boot**. –ü—Ä–æ–µ–∫—Ç –≤–∫–ª—é—á–∞–µ—Ç –±–∞–∑–æ–≤—ã–µ —Å—É—â–Ω–æ—Å—Ç–∏, CRUD-–æ–ø–µ—Ä–∞—Ü–∏–∏, —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—é, –ø–∞–≥–∏–Ω–∞—Ü–∏—é, –∫–∞—Å—Ç–æ–º–Ω—ã–µ —Å–∫–∞–ª—è—Ä—ã, Enum, Input Types, Mutations, Subscriptions –∏ –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫.

---

## üìå –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

1. [–ß—Ç–æ —Ç–∞–∫–æ–µ GraphQL](#—á—Ç–æ-—Ç–∞–∫–æ–µ-graphql)
2. [–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∏ —Ä–∞–±–æ—Ç–∞ GraphQL](#–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞-–∏-—Ä–∞–±–æ—Ç–∞-graphql)
3. [–ü–ª—é—Å—ã –∏ –º–∏–Ω—É—Å—ã](#–ø–ª—é—Å—ã-–∏-–º–∏–Ω—É—Å—ã)
4. [–û—Ç–ª–∏—á–∏–µ –æ—Ç REST –∏ gRPC](#–æ—Ç–ª–∏—á–∏–µ-–æ—Ç-rest-–∏-grpc)
5. [–°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å—Ö–µ–º—ã GraphQL](#—Å—Ç—Ä—É–∫—Ç—É—Ä–∞-—Å—Ö–µ–º—ã-graphql)
6. [Spring GraphQL –∏ –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏](#spring-graphql-–∏-–∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏)
7. [–í–∞–ª–∏–¥–∞—Ü–∏—è –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫](#–≤–∞–ª–∏–¥–∞—Ü–∏—è-–∏-–æ–±—Ä–∞–±–æ—Ç–∫–∞-–æ—à–∏–±–æ–∫)
8. [–ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤ –∏ –º—É—Ç–∞—Ü–∏–π](#–ø—Ä–∏–º–µ—Ä—ã-–∑–∞–ø—Ä–æ—Å–æ–≤-–∏-–º—É—Ç–∞—Ü–∏–π)
9. [–ü–æ–¥–ø–∏—Å–∫–∏ (Subscriptions)](#–ø–æ–¥–ø–∏—Å–∫–∏-subscriptions)
10. [–†–µ—Å—É—Ä—Å—ã –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è](#—Ä–µ—Å—É—Ä—Å—ã-–∏-–æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è)
11. [–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫](#—É—Å—Ç–∞–Ω–æ–≤–∫–∞-–∏-–∑–∞–ø—É—Å–∫)

---

## –ß—Ç–æ —Ç–∞–∫–æ–µ GraphQL

**GraphQL** ‚Äî —ç—Ç–æ —è–∑—ã–∫ –∑–∞–ø—Ä–æ—Å–æ–≤ –∏ —Å—Ä–µ–¥–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤ –¥–ª—è API.  
- –†–∞–∑—Ä–∞–±–æ—Ç–∞–Ω **Facebook (2012)** –∏ –æ—Ç–∫—Ä—ã—Ç –≤ 2015.  
- –†–µ—à–∞–µ—Ç –ø—Ä–æ–±–ª–µ–º—ã **overfetching** –∏ **underfetching** –¥–∞–Ω–Ω—ã—Ö, —Ö–∞—Ä–∞–∫—Ç–µ—Ä–Ω—ã–µ –¥–ª—è REST.  
- –ü–æ–∑–≤–æ–ª—è–µ—Ç –∫–ª–∏–µ–Ω—Ç—É **–∑–∞–ø—Ä–∞—à–∏–≤–∞—Ç—å —Ä–æ–≤–Ω–æ —Ç–µ –ø–æ–ª—è**, –∫–æ—Ç–æ—Ä—ã–µ –µ–º—É –Ω—É–∂–Ω—ã, —á–µ—Ä–µ–∑ –æ–¥–∏–Ω —ç–Ω–¥–ø–æ–∏–Ω—Ç.

---

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∏ —Ä–∞–±–æ—Ç–∞ GraphQL

1. **–ö–ª–∏–µ–Ω—Ç** —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç JSON-–∑–∞–ø—Ä–æ—Å –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –Ω–∞ GraphQL endpoint.
2. **–î–≤–∏–∂–æ–∫ GraphQL**:
    - –î–µ—Å–µ—Ä–∏–∞–ª–∏–∑—É–µ—Ç JSON-–∑–∞–ø—Ä–æ—Å.
    - –ù–∞—Ö–æ–¥–∏—Ç –º–µ—Ç–æ–¥ –≤ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–µ (`@QueryMapping`, `@MutationMapping`, `@SubscriptionMapping`).
    - –í—ã–∑—ã–≤–∞–µ—Ç –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫—É (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Å–µ—Ä–≤–∏—Å—ã –∏ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏).
    - –û—Ç–±–∏—Ä–∞–µ—Ç —Ç–æ–ª—å–∫–æ —Ç–µ –ø–æ–ª—è, –∫–æ—Ç–æ—Ä—ã–µ —É–∫–∞–∑–∞–ª –∫–ª–∏–µ–Ω—Ç.
3. **–°–µ—Ä–≤–µ—Ä** —Å–µ—Ä–∏–∞–ª–∏–∑—É–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç JSON.

**–ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞:**

```json
{
  "query": "query { users { id name email role } }"
}
```

**–ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞:**

```json
{
  "data": {
    "users": [
      { "id": "1", "name": "Alice", "email": "alice@example.com", "role": "USER" }
    ]
  }
}
```

---

## –ü–ª—é—Å—ã –∏ –º–∏–Ω—É—Å—ã

**–ü–ª—é—Å—ã:**
- –û–¥–∏–Ω endpoint –¥–ª—è –≤—Å–µ–≥–æ API.
- –ö–ª–∏–µ–Ω—Ç —Å–∞–º –≤—ã–±–∏—Ä–∞–µ—Ç –ø–æ–ª—è ‚Üí —ç–∫–æ–Ω–æ–º–∏—è —Ç—Ä–∞—Ñ–∏–∫–∞.
- –¢–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å—Ö–µ–º–∞ ‚Üí –∞–≤—Ç–æ–¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä—É–µ–º—ã–π API.
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä–µ–∞–ª—å–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏ —á–µ—Ä–µ–∑ `Subscription`.
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ `Union` –∏ `Interface` –¥–ª—è –ø–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º–∞.

**–ú–∏–Ω—É—Å—ã:**
- –ù–∞ –±—ç–∫–µ —Ä–µ—Å—É—Ä—Å—ã —á–∞—Å—Ç–æ –Ω–µ —ç–∫–æ–Ω–æ–º—è—Ç—Å—è (–Ω—É–∂–Ω–∞ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ DataLoader).
- –ë–æ–ª–µ–µ —Å–ª–æ–∂–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–æ–¥–ø–∏—Å–æ–∫.
- –°–ª–æ–∂–Ω–µ–µ –∫—ç—à–∏—Ä–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ, —á–µ–º REST.
- –ì–ª—É–±–æ–∫–∏–µ –≤–ª–æ–∂–µ–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã –º–æ–≥—É—Ç –Ω–∞–≥—Ä—É–∂–∞—Ç—å —Å–µ—Ä–≤–µ—Ä.

---

## –û—Ç–ª–∏—á–∏–µ –æ—Ç REST –∏ gRPC

| –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞ | REST | GraphQL | gRPC |
|----------------|------|---------|------|
| Endpoint | –ú–Ω–æ–∂–µ—Å—Ç–≤–æ | –û–¥–∏–Ω | –ú–µ—Ç–æ–¥—ã —Å–µ—Ä–≤–∏—Å–∞ |
| –§–æ—Ä–º–∞—Ç | JSON | JSON | Protobuf (–±–∏–Ω–∞—Ä–Ω—ã–π) |
| –ö–ª–∏–µ–Ω—Ç –≤—ã–±–∏—Ä–∞–µ—Ç –ø–æ–ª—è | ‚ùå | ‚úÖ | ‚ùå |
| –¢–∏–ø–∏–∑–∞—Ü–∏—è | –ß–∞—Å—Ç–∏—á–Ω–æ | –ü–æ–ª–Ω–∞—è | –ü–æ–ª–Ω–∞—è (proto) |
| –†–µ–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è | ‚ùå | ‚úÖ | ‚úÖ |
| –ü–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤ | –ù–∞—Ç–∏–≤–Ω–æ–µ | –û–ø—Ç–∏–º–∏–∑–∏—Ä—É–µ–º–æ–µ | –í—ã—Å–æ–∫–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å |

---

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å—Ö–µ–º—ã GraphQL

- **Scalars** ‚Äî –±–∞–∑–æ–≤—ã–µ –∏ –∫–∞—Å—Ç–æ–º–Ω—ã–µ —Ç–∏–ø—ã (`Int`, `String`, `Boolean`, `ID`, `DateTime`, `UUID`).
- **Enum** ‚Äî –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏—è (`Role { ADMIN, USER, GUEST }`).
- **Interfaces** ‚Äî –æ–±—â–∏–µ –ø–æ–ª—è –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤ (`Node { id, createdAt }`).
- **Type** ‚Äî –æ–±—ä–µ–∫—Ç—ã –¥–ª—è –≤–æ–∑–≤—Ä–∞—Ç–∞ (`User`, `Post`).
- **Union** ‚Äî –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤ (`SearchResult = User | Post | Comment`).
- **Input Types** ‚Äî –¥–ª—è –≤—Ö–æ–¥—è—â–∏—Ö –æ–±—ä–µ–∫—Ç–æ–≤ (`CreateUserInput`, `FilterInput`).
- **Query** ‚Äî —á—Ç–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö.
- **Mutation** ‚Äî –∏–∑–º–µ–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö.
- **Subscription** ‚Äî —Å–æ–±—ã—Ç–∏—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏.

---

## Spring GraphQL –∏ –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏

| –ê–Ω–Ω–æ—Ç–∞—Ü–∏—è | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ |
|-----------|------------|
| `@Controller` | –û–±–æ–∑–Ω–∞—á–∞–µ—Ç –∫–ª–∞—Å—Å –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞ GraphQL |
| `@QueryMapping` | –ú–µ—Ç–æ–¥ –¥–ª—è Query |
| `@MutationMapping` | –ú–µ—Ç–æ–¥ –¥–ª—è Mutation |
| `@SubscriptionMapping` | –ú–µ—Ç–æ–¥ –¥–ª—è Subscription |
| `@SchemaMapping` | –î–ª—è –≤–ª–æ–∂–µ–Ω–Ω—ã—Ö –ø–æ–ª–µ–π –æ–±—ä–µ–∫—Ç–∞ |
| `@Argument` | –ê—Ä–≥—É–º–µ–Ω—Ç GraphQL –∑–∞–ø—Ä–æ—Å–∞, –∞–Ω–∞–ª–æ–≥ `@RequestBody` –¥–ª—è REST |
| `@Valid` | –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö |

---

## –í–∞–ª–∏–¥–∞—Ü–∏—è –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

- GraphQL –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç **HTTP 200** –¥–∞–∂–µ –ø—Ä–∏ –æ—à–∏–±–∫–µ.
- –û—à–∏–±–∫–∏ –ø—Ä–∏—Ö–æ–¥—è—Ç –≤ JSON –≤ –±–ª–æ–∫–µ `errors`:

```json
{
  "errors": [
    {
      "message": "User not found",
      "extensions": { "code": "NOT_FOUND" },
      "path": ["user"]
    }
  ],
  "data": { "user": null }
}
```

- –í Spring –º–æ–∂–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –æ—à–∏–±–∫–∏:
  - –ß–µ—Ä–µ–∑ `@ControllerAdvice`.
  - –ß–µ—Ä–µ–∑ `DataFetcherExceptionResolver`.
  - –£–∫–∞–∑—ã–≤–∞—Ç—å `errorType`, –ø—É—Ç—å –∏ —Å–æ–æ–±—â–µ–Ω–∏–µ.

---

## –ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤ –∏ –º—É—Ç–∞—Ü–∏–π

**Query: –ü–æ–ª—É—á–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Å —Ñ–∏–ª—å—Ç—Ä–æ–º**

```graphql
query($limit: Int, $offset: Int) {
  users(filter: { limit: $limit, offset: $offset }) {
    id
    name
    email
    roles
  }
}
```

**Mutation: –°–æ–∑–¥–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è**

```graphql
mutation($input: CreateUserInput!) {
  createUser(input: $input) {
    id
    name
    email
    roles
  }
}
```

---

## –ü–æ–¥–ø–∏—Å–∫–∏ (Subscriptions)

- –ü–æ–∑–≤–æ–ª—è—é—Ç –∫–ª–∏–µ–Ω—Ç—É –ø–æ–¥–ø–∏—Å—ã–≤–∞—Ç—å—Å—è –Ω–∞ —Å–æ–±—ã—Ç–∏—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏.
- –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è WebSocket –∏–ª–∏ SSE.
- –ü—Ä–∏–º–µ—Ä:

```graphql
subscription {
  newUser {
    id
    name
    email
  }
}
```

- –í Spring —Ä–µ–∞–ª–∏–∑—É—é—Ç—Å—è —á–µ—Ä–µ–∑ `@SubscriptionMapping` –∏ `Sinks.Many`.

---

## –†–µ—Å—É—Ä—Å—ã –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è

- **DataLoader**:
  - –ì—Ä—É–ø–ø–∏—Ä—É–µ—Ç –∑–∞–ø—Ä–æ—Å—ã –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö.
  - –ò–∑–±–µ–≥–∞–µ—Ç N+1 –ø—Ä–æ–±–ª–µ–º.
  - –ü–æ–∑–≤–æ–ª—è–µ—Ç —ç–∫–æ–Ω–æ–º–∏—Ç—å —Ä–µ—Å—É—Ä—Å—ã —Å–µ—Ä–≤–µ—Ä–∞, –∫–æ–≥–¥–∞ –∫–ª–∏–µ–Ω—Ç –¥–µ–ª–∞–µ—Ç –≤–ª–æ–∂–µ–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã.

---

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:

```bash
git clone <url>
cd graphql-research
```

2. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö (PostgreSQL / H2).
3. –°–æ–±—Ä–∞—Ç—å –ø—Ä–æ–µ–∫—Ç:

```bash
./mvnw clean install
```

4. –ó–∞–ø—É—Å—Ç–∏—Ç—å Spring Boot:

```bash
./mvnw spring-boot:run
```

5. GraphQL endpoint:  
```
POST http://localhost:8080/graphql
```

6. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å **GraphiQL –∏–ª–∏ Postman** –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤.

---

## üîó –†–µ—Å—É—Ä—Å—ã

- [–û—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π —Å–∞–π—Ç GraphQL](https://graphql.org/)
- [Spring GraphQL](https://spring.io/projects/spring-graphql)
- [DataLoader](https://github.com/graphql-java/java-dataloader)

---

**–ê–≤—Ç–æ—Ä:** Oleborn  
**–î–∞—Ç–∞:** 2025

